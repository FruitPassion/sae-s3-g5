{% extends 'common/base.html' %}

{% block title %}Suivi de Progression{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='css/base.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='css/suivi_progression_apprenti.css') }}">
{% endblock %}

{% block body %}
    <h1>Suivi de progression de {{ apprenti["prenom"] }} {{ apprenti["nom"] }}</h1>
    <div class="haut">
        <ul>
            <li>Nombre de fiches finies : {{ nb_fiches_finies }}</li>
            <li>Niveau moyen de chaque champ : {{ niveau_moyen }}</li>
        </ul>
    </div>
        
    <div class="diagramme">
        <canvas id="suivi_progression_cip" aria-label="chart" role="img" type="module"></canvas>
        {% block javascripts %}
            <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.0/chart.min.js"></script>
            <script src="{{ url_for('static',filename='js/suivi_progression_cip.js') }}"></script>
            <script>
                window.onload = function() {
                    creation_graphique_suivi_progression_cip({{ niv_fiche|safe }});
                }
            </script>
        {% endblock %}
    </div>

    <div class="fixed-bottom bg-light">
        <a href="{{ url_for('cip.affiche_choix', apprenti=apprenti['login']) }}">{% include "_partial/_retour_bouton.html" %}</a>
    </div>
{% endblock %}