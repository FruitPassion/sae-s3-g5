{% extends 'common/base.html' %}

{% block title %}Suivi de Progression{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='css/base.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='css/camembert.css') }}">
{% endblock %}

{% block body %}
    <h1>Suivi de progression {% include "_partial/_tts.html" %}</h1>
    <div id="suivi">
        <canvas id="camembert" width="200" height="200"></canvas>
        {% block javascripts %}
            <script src="https://cdnjs.cloudflare.com/ajax/libs/chartjs-plugin-datalabels/2.2.0/chartjs-plugin-datalabels.min.js"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.0/chart.min.js"></script>
            <script src="{{ url_for('static',filename='js/suivi_progression_apprenti.js') }}"></script>
            <script>
                window.onload = function () {
                    creation_graphique_suivi_progression_apprenti({{ etat_fiches|safe }});
                }
            </script>
        {% endblock %}
    </div>
    <div class="legend">
        <div class="texte">
            <div class='box green'></div>
            <p>Fiches terminées {% include "_partial/_tts.html" %}</p>
        </div>
        <div class="texte">
            <div class='box orange'></div>
            <p>Fiches en cours {% include "_partial/_tts.html" %}</p>
        </div>
        <div class="texte">
            <div class='box red'></div>
            <p>Fiches arrêtées {% include "_partial/_tts.html" %}</p>
        </div>
    </div>
    <div style="height: 200px"> </div>
    <div class="fixed-bottom bg-light">
        <a href="{{ url_for('apprenti.redirection_connexion') }}">{% include "_partial/_retour_bouton.html" %}</a>
    </div>
{% endblock %}