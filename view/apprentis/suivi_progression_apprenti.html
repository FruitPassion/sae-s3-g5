{% extends 'common/base.html' %}

{% block title %}Suivi de Progression{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='css/base.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='css/camembert.css') }}">
{% endblock %}

{% block body %}
    <h1>Suivi de progression {% include "_partial/_tts.html" %}</h1>
    <div id="suivi">
        <canvas id="camembert" width="200" height="200"></canvas>
        {% block javascripts %}
            <script src="https://cdnjs.cloudflare.com/ajax/libs/chartjs-plugin-datalabels/2.2.0/chartjs-plugin-datalabels.min.js"
                    integrity="sha512-JPcRR8yFa8mmCsfrw4TNte1ZvF1e3+1SdGMslZvmrzDYxS69J7J49vkFL8u6u8PlPJK+H3voElBtUCzaXj+6ig=="
                    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.0/chart.min.js"
                    integrity="sha512-L0Shl7nXXzIlBSUUPpxrokqq4ojqgZFQczTYlGjzONGTDAcLremjwaWv5A+EDLnxhQzY5xUZPWLOLqYRkY0Cbw=="
                    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
            <script src="{{ url_for('static',filename='js/suivi_progression_apprenti.js') }}"></script>
            <script>
                window.onload = function () {
                    creation_graphique_suivi_progression_apprenti({{ etat_fiches|safe }});
                }
            </script>
        {% endblock %}
    </div>
    <div class="legend">
        <div>
            <div class='box green'></div>
            Fiches terminées {% include "_partial/_tts.html" %}</div>
        <div>
            <div class='box orange'></div>
            Fiches en cours {% include "_partial/_tts.html" %}</div>
        <div>
            <div class='box red'></div>
            Fiches arrêtées {% include "_partial/_tts.html" %}</div>
    </div>

    <div class="fixed-bottom bg-light">
        <a href="{{ url_for('apprenti.redirection_connexion') }}">{% include "_partial/_retour_bouton.html" %}</a>
    </div>
{% endblock %}